!function(){function e(t,n,i){function o(s,a){if(!n[s]){if(!t[s]){var u="function"==typeof require&&require;if(!a&&u)return u(s,!0);if(r)return r(s,!0);var h=new Error("Cannot find module '"+s+"'");throw h.code="MODULE_NOT_FOUND",h}var c=n[s]={exports:{}};t[s][0].call(c.exports,function(e){var n=t[s][1][e];return o(n||e)},c,c.exports,e,t,n,i)}return n[s].exports}for(var r="function"==typeof require&&require,s=0;s<i.length;s++)o(i[s]);return o}return e}()({1:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();n.Settings=function(){function e(){i(this,e),this._timeoutEvent=null,this._ee=new EventEmitter,this._settings={URL:null};for(var t in this.get())cwidget.on(t,this.receive.bind(this))}return o(e,[{key:"receive",value:function(e){var t=this,n=cwidget[e];"string"==typeof n&&this[e]&&(this[e]({propName:e,value:n}),null!==this._timeoutEvent&&(clearTimeout(this._timeoutEvent),this._timeoutEvent=null),this._timeoutEvent=setTimeout(function(){t._ee.emitEvent("draw",[])},100))}},{key:"URL",value:function(e){this._settings.URL=e.value,this._ee.emitEvent("urlChange",[e.value])}},{key:"on",value:function(e,t){console.debug(e),this._ee.on(e,t)}},{key:"get",value:function(e){return e?e in this._settings?this._settings[e]:null:this._settings}},{key:"set",value:function(e,t){return e?e in this._settings?(this._settings[e]=t,this._settings[e]):null:this._settings}}]),e}()},{}],2:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=e("./Settings"),s=function(){function e(){i(this,e),this.onLoad=function(){return cwidget.dispatchEvent("onLoad")},this._myFrame=$("#myFrame"),this._settings=new r.Settings,this._myFrame.bind("load",this.onLoad),this._messagebox=$("#messagebox"),this._proxy=window.SmaCustomWidget.proxy,this._proxy.addOnLoad(this._onLoad.bind(this)),this._host=this._proxy.host,this.EnumRuntimeScadaEngine={InduSoft:0,ArchestrA:1,ClearSCADA:2}}return o(e,[{key:"_onUrlChange",value:function(e){if(e=e.trim(),e.indexOf("://")<0&&(window.location.href.toLowerCase().indexOf("file://")>=0&&(e="http://"+e),0==window.top.location.href.indexOf("https:")&&(e="https://"+e),0==window.top.location.href.indexOf("http:")&&(e="http://"+e)),!this._checkUrl(e))return void this._showMsg("URL is invalid.");if($("#tips_link").attr("href",e.replace("\\","/")),!this._checkUrlProtocolMatch(e)){var t="Mixed Content: The page at '{0}' was loaded over HTTPS, but requested an insecure frame '{1}'. This request has been blocked; the content must be served over HTTPS.";return t=t.replace("{0}",window.top.location.href).replace("{1}",e),void this._showMsg(t)}this._hideMsg(),this._myFrame.attr("src",e.replace("\\","/"))}},{key:"_checkUrlProtocolMatch",value:function(e){var t=!1;return window.location.href.toLowerCase().indexOf("file://")>=0&&(t=!0),0==window.top.location.href.indexOf("https:")&&0==e.toLowerCase().indexOf("https:")&&(t=!0),0==window.top.location.href.indexOf("http:")&&(t=!0),t}},{key:"_checkUrl",value:function(e){var t="(https?)://[-A-Za-z0-9+&@#/%?=~_|!:,.;]+[-A-Za-z0-9+&@#/%=~_|]",n=new RegExp(t,"i");return n.test(e)}},{key:"_showMsg",value:function(e){this._myFrame.hide(),this._messagebox.show(),this._messagebox.html(e)}},{key:"_hideMsg",value:function(){this._myFrame.show(),this._messagebox.hide()}},{key:"_onLoad",value:function(){var e=this,t={success:function(){e._settings.on("urlChange",e._onUrlChange.bind(e)),cwidget.URL&&e._onUrlChange(cwidget.URL),$("#_x_viewer_Viewer").hide()},failure:function(){},screenBelongViewer:!1};window.SmaCustomWidget.MASvrHelper.init(t,function(){console.log("webGraphicsApi loaded.")})}}]),e}();new s},{"./Settings":1}]},{},[2]);
//# sourceMappingURL=E:/MACODE/InTouch/Widget-Dev/CustomWidgetCreator/Web_Browser/Web_Browser/build/build.min.js.map